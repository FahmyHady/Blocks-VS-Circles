using System;
using System.Collections.Generic;
using System.Linq;
using UnityEngine;

public static class AbbrevationUtility
{
    private static readonly SortedDictionary<double, string> abbrevations = new SortedDictionary<double, string>
    {
         {1,""},
         {1000,"K"},
         {1000000, "M" },
         {1000000000, "B" },
         {1000000000000, "T" },
         {1000000000000000, "aa" },
         {1000000000000000000, "ab" },
         {1000000000000000000000d, "ac" },
         {1000000000000000000000000d, "ad" },
         {1000000000000000000000000000d, "ae" },
         {1000000000000000000000000000000d, "af" },
         {1000000000000000000000000000000000d, "ag" },
         {1000000000000000000000000000000000000d, "ah" },
         {1000000000000000000000000000000000000000d, "ai" },
         {1000000000000000000000000000000000000000000d, "aj" },
         {1000000000000000000000000000000000000000000000d, "ak" },
         {1000000000000000000000000000000000000000000000000d, "al" },
         {1000000000000000000000000000000000000000000000000000d, "am" },
         {1000000000000000000000000000000000000000000000000000000d, "an" },
         {1000000000000000000000000000000000000000000000000000000000d, "ao" },
         {1000000000000000000000000000000000000000000000000000000000000d, "ap" },
         {1000000000000000000000000000000000000000000000000000000000000000d, "aq" },
         {1000000000000000000000000000000000000000000000000000000000000000000d, "ar" },
         {1000000000000000000000000000000000000000000000000000000000000000000000d, "as" },
         {1000000000000000000000000000000000000000000000000000000000000000000000000d, "at" },
         {1000000000000000000000000000000000000000000000000000000000000000000000000000d, "au" },
         {1000000000000000000000000000000000000000000000000000000000000000000000000000000d, "av" },
         {1000000000000000000000000000000000000000000000000000000000000000000000000000000000d, "aw" },
         {1000000000000000000000000000000000000000000000000000000000000000000000000000000000000d, "ax" },
         {1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d, "ay" },
         {1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d, "az" },
     };

    public static string AbbreviateNumber(double number)
    {
        for (int i = abbrevations.Count - 1; i >= 0; i--)
        {
            KeyValuePair<double, string> pair = abbrevations.ElementAt(i);
            if (number >= pair.Key)
            {
                float roundedNumber = (float)(number / pair.Key);
                return roundedNumber.ToString("F2") + pair.Value;
            }
        }
        return number.ToString();
    }
}